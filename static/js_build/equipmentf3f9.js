(function(){$(document).ready(function(){var collapsers=document.querySelectorAll('.js-toggle-collapse');if(collapsers){collapsers.forEach(function(el){el.addEventListener('click',function(e){el.parentNode.classList.toggle('is-collapsed');});});}
var nav=document.querySelector('.cat-intro-nav-bar');if(nav){function runStickyNav(){var wrapper=document.querySelector('.cat-intro-wrapper');var y=wrapper.getBoundingClientRect().top;var offset=16;var isSticky=nav.classList.contains('is-sticky');if(y<=offset&&!isSticky){nav.classList.add('is-sticky');}
if(y>=offset){nav.classList.remove('is-sticky');}}
window.addEventListener('scroll',runStickyNav)
window.addEventListener('load',runStickyNav)}
var machineBox=document.getElementById('machine_categories');if(!machineBox)return false;var items=Array.prototype.slice.call(machineBox.querySelectorAll('.machine-categories-list__item'));var outerW=machineBox.clientWidth;var oneItemWidth;var leftOffset=0;var inprogress=false;function onSizeBlock(){outerW=machineBox.clientWidth;oneItemWidth=outerW/items.length;if(outerW>=1024){items.forEach(function(item,idx){var w=oneItemWidth;leftOffset=w*idx;var styleAttrs='transform: translateX('+leftOffset+'px); width: '+w+'px;';item.setAttribute('style',styleAttrs);});}
addListener();}
function addListener(){items.forEach(function(item,idx){if(outerW>=1024){item.addEventListener('mouseenter',function(e){if(inprogress)return e.preventDefault();inprogress=true;items.forEach(function(itm,k){var video=itm.querySelector('video');var translateValue;if(video){anime({targets:itm,begin:function(){if(k===idx)return video.play();video.pause();},});}
inprogress=false;})});machineBox.addEventListener('mouseleave',function(e){var video=item.querySelector('video');if(inprogress)return e.preventDefault();inprogress=true;if(video){video.pause();}
items.forEach(function(itm,k){anime({targets:itm,});inprogress=false});})}else{var video=item.querySelector('video');video.setAttribute('muted','');video.setAttribute('autoplay','');video.setAttribute('loop','');video.pause();items.forEach(function(item){})}})}
addListener();});;ready(function(){var imgModel=Array.prototype.slice.call(document.querySelectorAll('.model__image img'));if(imgModel.length>0){objectFitImages(imgModel);}
var navigation=document.getElementById('navigation');var toggleBtn=document.getElementById('expand_navigation');var closeBtn=document.getElementById('navigation_close_btn');var openMenu=document.querySelector('.navigation-model__scrollable');var dropDown=document.getElementById('navigation_dropdown');var header=document.querySelector('.page-header');var headerHeight=parseInt(window.getComputedStyle(header).height);var fullHeight=document.documentElement.clientHeight-headerHeight;var isOpened=false;if(dropDown){dropDown.setAttribute('style','height: 0');}
if(toggleBtn){var closeNavMenu=function(){openMenu.classList.remove('navigation-model__scrollable--active');anime({targets:dropDown,height:'0px',duration:300,easing:'linear'});closeBtn.classList.remove('navigation-opened');navigation.classList.remove('js-active');isOpened=false;toggleBtn.classList.remove('js-expanded');document.body.classList.remove('prevent-scroll');document.removeEventListener('click',promises)};function promises(e){if(e.target.closest("div.navigation-model__scrollable")===null){closeNavMenu();document.removeEventListener('click',promises)}
if(e.keyCode==='27'){closeNavMenu();document.removeEventListener('click',promises)}}
toggleBtn.addEventListener('click',function(){openMenu.classList.toggle('navigation-model__scrollable--active');anime({targets:dropDown,height:isOpened?'0px':fullHeight,opacity:isOpened?0:1,duration:300,easing:'linear'});closeBtn.classList.toggle('navigation-opened');navigation.classList.toggle('js-active');isOpened=!isOpened;toggleBtn.classList.toggle('js-expanded');document.body.classList.toggle('prevent-scroll');if(isOpened){document.removeEventListener('click',promises);document.removeEventListener('keyup',promises);}
setTimeout(function(){document.addEventListener('click',promises)
document.addEventListener('keyup',promises)},2)});closeBtn.addEventListener('click',closeNavMenu)}});;ready(function(){var swiperModelAll=document.querySelector('.similar-machines-list .swiper-container');if(swiperModelAll){var mySwiper=new Swiper(swiperModelAll,{slidesPerView:5,watchOverflow:true,navigation:{nextEl:'.similar__button-next',prevEl:'.similar__button-prev',},breakpoints:{560:{slidesPerView:1,},1200:{slidesPerView:2,},1400:{slidesPerView:3,},1600:{slidesPerView:4,}},});}
var buttonActive=document.querySelector('.similar-machines-list__item.active');if(buttonActive){buttonActive.addEventListener('click',function(e){e.preventDefault();});}
});;ready(function(){var imgGalleryAll=Array.prototype.slice.call(document.querySelectorAll('.model__gallery-one '));var imgOne=document.querySelector('.model__image img');if(imgGalleryAll){if(imgGalleryAll.length>0){imgGalleryAll[0].classList.add('model__gallery-one--active');var removeClassImgGalleryAll=function(){imgGalleryAll.forEach(function(item){item.classList.remove('model__gallery-one--active');});};imgGalleryAll.forEach(function(image){image.addEventListener('click',function(e){var attrSrc=this.getAttribute('src');removeClassImgGalleryAll();this.classList.add('model__gallery-one--active');imgOne.setAttribute('src',attrSrc)})});}}
var swiperShellAll=document.querySelector('.js-carousel');if(swiperShellAll){var slideCount=swiperShellAll.querySelectorAll('.swiper-slide').length;var mySwiper=null;if(slideCount>6){mySwiper=new Swiper(swiperShellAll,{slidesPerView:6,watchOverflow:true,loop:true,pagination:{el:'.swiper-pagination',type:'bullets',clickable:true,dynamicBullets:true},navigation:{nextEl:'.swiper-next',prevEl:'.swiper-prev',},breakpoints:{800:{slidesPerView:1,},1250:{slidesPerView:3,},1400:{slidesPerView:6,}},});}else{mySwiper=new Swiper(swiperShellAll,{slidesPerView:6,watchOverflow:true,pagination:{el:'.swiper-pagination',type:'bullets',clickable:true,dynamicBullets:true},navigation:{nextEl:'.swiper-next',prevEl:'.swiper-prev',},breakpoints:{800:{slidesPerView:1,},1250:{slidesPerView:3,},1400:{slidesPerView:6,}},});}}
if(slideCount<7){mySwiper.el.classList.add('js-less-than-7');}
if(slideCount<4){mySwiper.el.classList.add('js-less-than-4');}
var videoMachine=Array.prototype.slice.call(document.querySelectorAll('video.lazy'));var lazyloadThrottleTimeout;var lazyloadsVideo=function(elements,clazz,elem){lazyloadThrottleTimeout=setTimeout(function(){elements.forEach(function(video){var source=document.createElement('source');source.src=video.getAttribute('data-src');video.appendChild(source);video.classList.remove(clazz);video.classList.add('lazy-scale');elements=document.querySelectorAll(elem);});if(elements.length===0){}},220);};if(videoMachine.length>0){window.addEventListener('load',function(){lazyloadsVideo(videoMachine,'lazy','clazz')})}});}).call(this);